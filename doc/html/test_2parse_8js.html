<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="es">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>documentacion_backend: Referencia del archivo node_modules/qs/test/parse.js</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">documentacion_backend
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generado por Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Buscar',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Cargando...</div>
<div class="SRStatus" id="Searching">Buscando...</div>
<div class="SRStatus" id="NoMatches">Nada coincide</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_acd06b18086a0dd2ae699b1e0b775be8.html">node_modules</a></li><li class="navelem"><a class="el" href="dir_cf71fc558ac4ded1193acf17d9648fe2.html">qs</a></li><li class="navelem"><a class="el" href="dir_b54ec2e9df3d00279bc5fa96342b70b4.html">test</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Funciones</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">Referencia del archivo parse.js</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Funciones</h2></td></tr>
<tr class="memitem:a9a441a0af1a6a72e238ef76210aa5881" id="r_a9a441a0af1a6a72e238ef76210aa5881"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9a441a0af1a6a72e238ef76210aa5881">test</a> ('<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">parse</a>()', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(t) { t.test('parses a simple string', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('0=foo'), { 0:'foo' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>++'), { foo:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> ' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[&gt;=]=23'), { a:{ '&gt;=':'23' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[&lt;=&gt;]==23'), { a:{ '&lt;=&gt;':'=23' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[==]=23'), { a:{ '==':'23' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo', { strictNullHandling:true }), { foo:null });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo'), { foo:'' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo='), { foo:'' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=bar'), { foo:'bar' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>(' foo=bar=baz '), { ' foo ':' bar=baz ' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=bar=baz'), { foo:'bar=baz' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=bar &amp;bar=baz'), { foo:'bar', bar:'baz' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo2=bar2 &amp;baz2='), { foo2:'bar2', baz2:'' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=bar &amp;baz', { strictNullHandling:true }), { foo:'bar', baz:null });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=bar &amp;baz'), { foo:'bar', baz:'' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('cht=p3 &amp;chd=t:60, 40 &amp;chs=250x100 &amp;chl=Hello|World'), { cht:'p3', chd:'t:60, 40', chs:'250x100', chl:'Hello|World' });st.end();});t.test('comma:false', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b &amp;a[]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[0]=b &amp;a[1]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b, <a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:'b, <a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b &amp;a=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.end();});t.test('comma:true', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b &amp;a[]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { comma:true }), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[0]=b &amp;a[1]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { comma:true }), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b, <a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { comma:true }), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b &amp;a=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { comma:true }), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.end();});t.test('allows enabling dot notation', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a.b=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { 'a.b':'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a.b=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { allowDots:true }), { a:{ b:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' } });st.end();});t.test('<a class="el" href="qs_2lib_2utils_8js.html#ac721e66172d6d912c266675c12bcc0d5">decode</a> dot <a class="el" href="build_8js.html#a2d89a02a5a2340b3da7f2c23838fabf4">keys</a> correctly', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj.first=John &amp;<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj.last=Doe', { allowDots:false, decodeDotInKeys:false }), { '<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%2Eobj.first':'John', '<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%2Eobj.last':'Doe' }, 'with allowDots false and decodeDotInKeys false');st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('name.obj.first=John &amp;name.obj.last=Doe', { allowDots:true, decodeDotInKeys:false }), { name:{ obj:{ first:'John', last:'Doe' } } }, 'with allowDots false and decodeDotInKeys false');st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj.first=John &amp;<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj.last=Doe', { allowDots:true, decodeDotInKeys:false }), { '<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%2Eobj':{ first:'John', last:'Doe' } }, 'with allowDots true and decodeDotInKeys false');st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj.first=John &amp;<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj.last=Doe', { allowDots:true, decodeDotInKeys:true }), { '<a class="el" href="all_8js.html#ab15a7ef94ea648e0a722a49372614731">name.obj</a>':{ first:'John', last:'Doe' } }, 'with allowDots true and decodeDotInKeys true');st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj%252Esubobject.first%252Egodly%252Ename=John &amp;<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj%252Esubobject.last=Doe', { allowDots:false, decodeDotInKeys:false }), { '<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%2Eobj%2Esubobject.first%2Egodly%2Ename':'John', '<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%2Eobj%2Esubobject.last':'Doe' }, 'with allowDots false and decodeDotInKeys false');st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name.obj.subobject.first.godly.name</a>=John &amp;name.obj.subobject.last=Doe', { allowDots:true, decodeDotInKeys:false }), { name:{ obj:{ subobject:{ first:{ godly:{ name:'John' } }, last:'Doe' } } } }, 'with allowDots true and decodeDotInKeys false');st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj%252Esubobject.first%252Egodly%252Ename=John &amp;<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj%252Esubobject.last=Doe', { allowDots:true, decodeDotInKeys:true }), { 'name.obj.subobject':{ '<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">first.godly.name</a>':'John', last:'Doe' } }, 'with allowDots true and decodeDotInKeys true');st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj.first=John &amp;<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj.last=Doe'), { '<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%2Eobj.first':'John', '<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%2Eobj.last':'Doe' }, 'with allowDots and decodeDotInKeys <a class="el" href="get-intrinsic_2index_8js.html#ae6aa4817f0f49345b718ea6b4abae197">undefined</a>');st.end();});t.test('should <a class="el" href="qs_2lib_2utils_8js.html#ac721e66172d6d912c266675c12bcc0d5">decode</a> dot in key of object, and allow enabling dot notation when decodeDotInKeys <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> <a class="el" href="application_8js.html#aea3662ebceec6f02ef3aec57683086a6">set</a> to true and allowDots <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> <a class="el" href="get-intrinsic_2index_8js.html#ae6aa4817f0f49345b718ea6b4abae197">undefined</a>', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj%252Esubobject.first%252Egodly%252Ename=John &amp;<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj%252Esubobject.last=Doe', { decodeDotInKeys:true }), { 'name.obj.subobject':{ '<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">first.godly.name</a>':'John', last:'Doe' } }, 'with allowDots <a class="el" href="get-intrinsic_2index_8js.html#ae6aa4817f0f49345b718ea6b4abae197">undefined</a> and decodeDotInKeys true');st.end();});t.test('should throw when decodeDotInKeys <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> not of <a class="el" href="cli_8js.html#affea7e61106a6a9da029c8af702aaf20">type</a> boolean', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]&amp;bar=baz', { decodeDotInKeys:'foobar' });}, TypeError);st['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]&amp;bar=baz', { decodeDotInKeys:0 });}, TypeError);st['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]&amp;bar=baz', { decodeDotInKeys:NaN });}, TypeError);st['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]&amp;bar=baz', { decodeDotInKeys:null });}, TypeError);st.end();});t.test('allows empty arrays in <a class="el" href="all_8js.html#ab15a7ef94ea648e0a722a49372614731">obj</a> values', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]&amp;bar=baz', { allowEmptyArrays:true }), { foo:[], bar:'baz' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]&amp;bar=baz', { allowEmptyArrays:false }), { foo:[''], bar:'baz' });st.end();});t.test('should throw when allowEmptyArrays <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> not of <a class="el" href="cli_8js.html#affea7e61106a6a9da029c8af702aaf20">type</a> boolean', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]&amp;bar=baz', { allowEmptyArrays:'foobar' });}, TypeError);st['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]&amp;bar=baz', { allowEmptyArrays:0 });}, TypeError);st['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]&amp;bar=baz', { allowEmptyArrays:NaN });}, TypeError);st['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]&amp;bar=baz', { allowEmptyArrays:null });}, TypeError);st.end();});t.test('allowEmptyArrays+strictNullHandling', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('testEmptyArray[]', { strictNullHandling:true, allowEmptyArrays:true }), { testEmptyArray:[] });st.end();});t.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:{ b:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' } }, 'parses a single nested string');t.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>]=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>'), { a:{ b:{ c:'<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>' } } }, 'parses a double nested string');t.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>][<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>][e][f][g][<a class="el" href="ms_2index_8js.html#a79fe0eb780a2a4b5543b4dddf8b6188a">h</a>]=i'), { a:{ b:{ c:{ d:{ e:{ f:{ '[g][<a class="el" href="ms_2index_8js.html#a79fe0eb780a2a4b5543b4dddf8b6188a">h</a>]':'i' } } } } } } }, '<a class="el" href="lib_2parse_8js.html#a25652520ac081f98103987b0e68544cf">defaults</a> to a depth of 5');t.test('only parses one level when depth=1', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>]=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>', { depth:1 }), { a:{ b:{ '[<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>]':'<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>' } } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>][<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>]=e', { depth:1 }), { a:{ b:{ '[<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>][<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>]':'e' } } });st.end();});t.test('uses original key when depth=0', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[0]=b &amp;a[1]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { depth:0 }), { 'a[0]':'b', 'a[1]':'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[0][0]=b &amp;a[0][1]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> &amp;a[1]=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a> &amp;e=2', { depth:0 }), { 'a[0][0]':'b', 'a[0][1]':'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', 'a[1]':'<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>', e:'2' });st.end();});t.test('uses original key when depth=false', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[0]=b &amp;a[1]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { depth:false }), { 'a[0]':'b', 'a[1]':'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[0][0]=b &amp;a[0][1]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> &amp;a[1]=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a> &amp;e=2', { depth:false }), { 'a[0][0]':'b', 'a[0][1]':'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', 'a[1]':'<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>', e:'2' });st.end();});t.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b &amp;a=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] }, 'parses a simple <a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a>');t.test('parses an explicit <a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a>', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b'), { a:['b'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b &amp;a[]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b &amp;a[]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> &amp;a[]=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', '<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>'] });st.end();});t.test('parses a mix of simple and explicit arrays', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b &amp;a[]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b &amp;a=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[0]=b &amp;a=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b &amp;a[0]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[1]=b &amp;a=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { arrayLimit:20 }), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b &amp;a=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { arrayLimit:0 }), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b &amp;a=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b &amp;a[1]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { arrayLimit:20 }), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b &amp;a[]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { arrayLimit:0 }), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b &amp;a[]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.end();});t.test('parses a nested <a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a>', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b][]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> &amp;a[b][]=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>'), { a:{ b:['<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', '<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>'] } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[&gt;=]=25'), { a:{ '&gt;=':'25' } });st.end();});t.test('allows to specify <a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a> indices', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[1]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> &amp;a[0]=b &amp;a[2]=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', '<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[1]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> &amp;a[0]=b'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[1]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { arrayLimit:20 }), { a:['<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[1]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { arrayLimit:0 }), { a:{ 1:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[1]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.end();});t.test('limits specific <a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a> indices to arrayLimit', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[20]=a', { arrayLimit:20 }), { a:['a'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[21]=a', { arrayLimit:20 }), { a:{ 21:'a' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[20]=a'), { a:['a'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[21]=a'), { a:{ 21:'a' } });st.end();});t.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[12b]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:{ '12b':'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' } }, 'supports <a class="el" href="build_8js.html#a2d89a02a5a2340b3da7f2c23838fabf4">keys</a> that begin with a number');t.test('supports encoded=signs', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('he%3Dllo=th%3Dere'), { 'he=llo':'th=ere' });st.end();});t.test('<a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> ok with url encoded strings', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b%20c]=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>'), { a:{ 'b <a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>':'<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>%20d'), { a:{ b:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> <a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>' } });st.end();});t.test('allows brackets in the <a class="el" href="get-intrinsic_2index_8js.html#aacce635d68067370c70caa2381ea1040">value</a>', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('pets=[&quot;tobi&quot;]'), { pets:'[&quot;tobi&quot;]' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('operators=[&quot;&gt;=&quot;, &quot;&lt;=&quot;]'), { operators:'[&quot;&gt;=&quot;, &quot;&lt;=&quot;]' });st.end();});t.test('allows empty values', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>(''), {});st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>(null), {});st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>(<a class="el" href="get-intrinsic_2index_8js.html#ae6aa4817f0f49345b718ea6b4abae197">undefined</a>), {});st.end();});t.test('transforms arrays to objects', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[0]=bar &amp;foo[bad]=baz'), { foo:{ 0:'bar', bad:'baz' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[bad]=baz &amp;foo[0]=bar'), { foo:{ bad:'baz', 0:'bar' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[bad]=baz &amp;foo[]=bar'), { foo:{ bad:'baz', 0:'bar' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]=bar &amp;foo[bad]=baz'), { foo:{ 0:'bar', bad:'baz' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[bad]=baz &amp;foo[]=bar &amp;foo[]=foo'), { foo:{ bad:'baz', 0:'bar', 1:'foo' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[0][a]=a &amp;foo[0][b]=b &amp;foo[1][a]=aa &amp;foo[1][b]=bb'), { foo:[{ a:'a', b:'b' }, { a:'aa', b:'bb' }] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b &amp;a[t]=u &amp;a[hasOwnProperty]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { allowPrototypes:false }), { a:{ 0:'b', t:'u' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b &amp;a[t]=u &amp;a[hasOwnProperty]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { allowPrototypes:true }), { a:{ 0:'b', t:'u', hasOwnProperty:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b &amp;a[hasOwnProperty]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> &amp;a[x]=<a class="el" href="ms_2index_8js.html#a0b31909b1cae9ed1db6ff042057fce60">y</a>', { allowPrototypes:false }), { a:{ 0:'b', x:'<a class="el" href="ms_2index_8js.html#a0b31909b1cae9ed1db6ff042057fce60">y</a>' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b &amp;a[hasOwnProperty]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> &amp;a[x]=<a class="el" href="ms_2index_8js.html#a0b31909b1cae9ed1db6ff042057fce60">y</a>', { allowPrototypes:true }), { a:{ 0:'b', hasOwnProperty:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', x:'<a class="el" href="ms_2index_8js.html#a0b31909b1cae9ed1db6ff042057fce60">y</a>' } });st.end();});t.test('transforms arrays to objects(dot notation)', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[0].baz=bar &amp;fool.bad=baz', { allowDots:true }), { foo:[{ baz:'bar' }], fool:{ bad:'baz' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[0].baz=bar &amp;fool.bad.boo=baz', { allowDots:true }), { foo:[{ baz:'bar' }], fool:{ bad:{ boo:'baz' } } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[0][0].baz=bar &amp;fool.bad=baz', { allowDots:true }), { foo:[[{ baz:'bar' }]], fool:{ bad:'baz' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[0].baz[0]=15 &amp;foo[0].bar=2', { allowDots:true }), { foo:[{ baz:['15'], bar:'2' }] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[0].baz[0]=15 &amp;foo[0].baz[1]=16 &amp;foo[0].bar=2', { allowDots:true }), { foo:[{ baz:['15', '16'], bar:'2' }] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo.bad=baz &amp;foo[0]=bar', { allowDots:true }), { foo:{ bad:'baz', 0:'bar' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo.bad=baz &amp;foo[]=bar', { allowDots:true }), { foo:{ bad:'baz', 0:'bar' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]=bar &amp;foo.bad=baz', { allowDots:true }), { foo:{ 0:'bar', bad:'baz' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo.bad=baz &amp;foo[]=bar &amp;foo[]=foo', { allowDots:true }), { foo:{ bad:'baz', 0:'bar', 1:'foo' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[0].a=a &amp;foo[0].b=b &amp;foo[1].a=aa &amp;foo[1].b=bb', { allowDots:true }), { foo:[{ a:'a', b:'b' }, { a:'aa', b:'bb' }] });st.end();});t.test('correctly prunes <a class="el" href="get-intrinsic_2index_8js.html#ae6aa4817f0f49345b718ea6b4abae197">undefined</a> values when converting an <a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a> to an object', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[2]=b &amp;a[99999999]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:{ 2:'b', 99999999:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' } });st.end();});t.test('supports malformed uri characters', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('{%:%}', { strictNullHandling:true }), { '{%:%}':null });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('{%:%}='), { '{%:%}':'' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=%:%}'), { foo:'%:%}' });st.end();});t.test('doesn\ 't produce empty <a class="el" href="build_8js.html#a2d89a02a5a2340b3da7f2c23838fabf4">keys</a>', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('_r=1 &amp;'), { _r:'1' });st.end();});t.test('cannot access Object <a class="el" href="internal_8js.html#a22c3fb2b14bdd9d6de4c61f2778f4444">prototype</a>', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('constructor[<a class="el" href="internal_8js.html#a22c3fb2b14bdd9d6de4c61f2778f4444">prototype</a>][bad]=bad');<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('bad[constructor][<a class="el" href="internal_8js.html#a22c3fb2b14bdd9d6de4c61f2778f4444">prototype</a>][bad]=bad');<a class="el" href="mime_2src_2test_8js.html#a678b786d8ca72572f8af97bed94a5eb1">st.equal</a>(typeof Object.prototype.bad, '<a class="el" href="get-intrinsic_2index_8js.html#ae6aa4817f0f49345b718ea6b4abae197">undefined</a>');st.end();});t.test('parses arrays of objects', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[][b]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:[{ b:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' }] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[0][b]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:[{ b:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' }] });st.end();});t.test('allows <a class="el" href="dbcs-codec_8js.html#a3640a64c8d4fe02d6ade18fddf7457c4">for</a> empty strings in arrays', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b &amp;a[]=&amp;a[]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['b', '', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[0]=b &amp;a[1]&amp;a[2]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> &amp;a[19]=', { strictNullHandling:true, arrayLimit:20 }), { a:['b', null, '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', ''] }, 'with arrayLimit 20+<a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a> indices:null then empty string works');st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b &amp;a[]&amp;a[]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> &amp;a[]=', { strictNullHandling:true, arrayLimit:0 }), { a:['b', null, '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', ''] }, 'with arrayLimit 0+<a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a> brackets:null then empty string works');st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[0]=b &amp;a[1]=&amp;a[2]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> &amp;a[19]', { strictNullHandling:true, arrayLimit:20 }), { a:['b', '', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', null] }, 'with arrayLimit 20+<a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a> indices:empty string then null works');st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b &amp;a[]=&amp;a[]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> &amp;a[]', { strictNullHandling:true, arrayLimit:0 }), { a:['b', '', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', null] }, 'with arrayLimit 0+<a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a> brackets:empty string then null works');st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=&amp;a[]=b &amp;a[]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['', 'b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] }, '<a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a> brackets:empty strings work');st.end();});t.test('compacts sparse arrays', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[10]=1 &amp;a[2]=2', { arrayLimit:20 }), { a:['2', '1'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[1][b][2][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>]=1', { arrayLimit:20 }), { a:[{ b:[{ c:'1' }] }] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[1][2][3][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>]=1', { arrayLimit:20 }), { a:[[[{ c:'1' }]]] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[1][2][3][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>][1]=1', { arrayLimit:20 }), { a:[[[{ c:['1'] }]]] });st.end();});t.test('parses sparse arrays', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[4]=1 &amp;a[1]=2', { allowSparse:true }), { a:[, '2',,, '1'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[1][b][2][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>]=1', { allowSparse:true }), { a:[, { b:[,, { c:'1' }] }] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[1][2][3][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>]=1', { allowSparse:true }), { a:[, [,, [,,, { c:'1' }]]] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[1][2][3][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>][1]=1', { allowSparse:true }), { a:[, [,, [,,, { c:[, '1'] }]]] });st.end();});t.test('parses semi-parsed strings', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>({ 'a[b]':'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' }), { a:{ b:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>({ 'a[b]':'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', 'a[<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>]':'e' }), { a:{ b:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', d:'e' } });st.end();});t.test('parses buffers correctly', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { var b=SaferBuffer.from('test');st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>({ a:b }), { a:b });st.end();});t.test('parses jquery-<a class="el" href="application_8js.html#adde8b8550e5c046446eadb8a9715d706">param</a> strings', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { var encoded='filter%5B0%5D%5B%5D=int1 &amp;filter%5B0%5D%5B%5D=%3D &amp;filter%5B0%5D%5B%5D=77 &amp;filter%5B%5D=and &amp;filter%5B2%5D%5B%5D=int2 &amp;filter%5B2%5D%5B%5D=%3D &amp;filter%5B2%5D%5B%5D=8';var expected={ filter:[['int1', '=', '77'], 'and', ['int2', '=', '8']] };st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>(encoded), expected);st.end();});t.test('continues parsing when no parent <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> found', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('[]=&amp;a=b'), { 0:'', a:'b' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('[]&amp;a=b', { strictNullHandling:true }), { 0:null, a:'b' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('[foo]=bar'), { foo:'bar' });st.end();});t.test('does not error when parsing a very long <a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a>', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { var str='a[]=a';while(Buffer.byteLength(str)&lt; 128 *1024) { str=str+'&amp;'+str;} st.doesNotThrow(<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>(str);});st.end();});t.test('should not throw when a native <a class="el" href="internal_8js.html#a22c3fb2b14bdd9d6de4c61f2778f4444">prototype</a> <a class="el" href="lib_2parse_8js.html#a1fd59be22bbab6bc2baae116e333d914">has</a> an enumerable property', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.intercept(<a class="el" href="internal_8js.html#a22c3fb2b14bdd9d6de4c61f2778f4444">Object.prototype</a>, 'crash', { value:'' });st.intercept(<a class="el" href="internal_8js.html#a22c3fb2b14bdd9d6de4c61f2778f4444">Array.prototype</a>, 'crash', { value:'' });st.doesNotThrow(<a class="el" href="call-bind_2index_8js.html#a19486bed968a6392ace0ade14136e21a">qs.parse.bind</a>(null, 'a=b'));st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b'), { a:'b' });st.doesNotThrow(<a class="el" href="call-bind_2index_8js.html#a19486bed968a6392ace0ade14136e21a">qs.parse.bind</a>(null, 'a[][b]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'));st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[][b]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:[{ b:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' }] });st.end();});t.test('parses a string with an alternative string delimiter', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b;<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>', { delimiter:';' }), { a:'b', c:'<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>' });st.end();});t.test('parses a string with an alternative RegExp delimiter', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b;<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>', { delimiter:/[;,] */}), { a:'b', c:'<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>' });st.end();});t.test('does not <a class="el" href="application_8js.html#a8192500ed5d08ae60d3778b54729bd51">use</a> non-splittable objects as delimiters', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b &amp;<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>', { delimiter:true }), { a:'b', c:'<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>' });st.end();});t.test('allows overriding parameter <a class="el" href="qs_2lib_2utils_8js.html#abcb5d8b4a4a1f3baf285ff81dae46fdf">limit</a>', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b &amp;<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>', { parameterLimit:1 }), { a:'b' });st.end();});t.test('allows setting the parameter <a class="el" href="qs_2lib_2utils_8js.html#abcb5d8b4a4a1f3baf285ff81dae46fdf">limit</a> to Infinity', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b &amp;<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>', { parameterLimit:Infinity }), { a:'b', c:'<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>' });st.end();});t.test('allows overriding <a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a> <a class="el" href="qs_2lib_2utils_8js.html#abcb5d8b4a4a1f3baf285ff81dae46fdf">limit</a>', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[0]=b', { arrayLimit:-1 }), { a:{ 0:'b' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[0]=b', { arrayLimit:0 }), { a:['b'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[-1]=b', { arrayLimit:-1 }), { a:{ '-1':'b' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[-1]=b', { arrayLimit:0 }), { a:{ '-1':'b' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[0]=b &amp;a[1]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { arrayLimit:-1 }), { a:{ 0:'b', 1:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[0]=b &amp;a[1]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { arrayLimit:0 }), { a:{ 0:'b', 1:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' } });st.end();});t.test('allows disabling <a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a> parsing', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { var indices=<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[0]=b &amp;a[1]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { parseArrays:false });st.deepEqual(indices, { a:{ 0:'b', 1:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' } });<a class="el" href="mime_2src_2test_8js.html#a678b786d8ca72572f8af97bed94a5eb1">st.equal</a>(<a class="el" href="lib_2parse_8js.html#adca5ce0ed65a1514a671ae81eb33bd53">Array.isArray</a>(indices.a), false, 'parseArrays:false, indices case <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> not an <a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a>');var emptyBrackets=<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b', { parseArrays:false });st.deepEqual(emptyBrackets, { a:{ 0:'b' } });<a class="el" href="mime_2src_2test_8js.html#a678b786d8ca72572f8af97bed94a5eb1">st.equal</a>(<a class="el" href="lib_2parse_8js.html#adca5ce0ed65a1514a671ae81eb33bd53">Array.isArray</a>(emptyBrackets.a), false, 'parseArrays:false, empty brackets case <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> not an <a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a>');st.end();});t.test('allows <a class="el" href="dbcs-codec_8js.html#a3640a64c8d4fe02d6ade18fddf7457c4">for</a> <a class="el" href="application_8js.html#a3934419f0f9a2068c705a0013b77fab3">query</a> string prefix', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('?foo=bar', { ignoreQueryPrefix:true }), { foo:'bar' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=bar', { ignoreQueryPrefix:true }), { foo:'bar' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('?foo=bar', { ignoreQueryPrefix:false }), { '?foo':'bar' });st.end();});t.test('parses an object', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { var input={ 'user[<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>]':{ 'pop[bob]':3 }, 'user[email]':null };var expected={ user:{ name:{ 'pop[bob]':3 }, email:null } };var result=<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>(input);st.deepEqual(result, expected);st.end();});t.test('parses string with comma as <a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a> divider', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=bar, tee', { comma:true }), { foo:['bar', 'tee'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[bar]=coffee, tee', { comma:true }), { foo:{ bar:['coffee', 'tee'] } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=', { comma:true }), { foo:'' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo', { comma:true }), { foo:'' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo', { comma:true, strictNullHandling:true }), { foo:null });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[0]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { comma:true }), { a:['<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[0]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> &amp;a[1]=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>'), { a:['<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', '<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> &amp;a[]=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>'), { a:['<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', '<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>, <a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>', { comma:true }), { a:['<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', '<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>'] });st.end();});t.test('parses values with comma as <a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a> divider', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>({ foo:'bar, tee' }, { comma:false }), { foo:'bar, tee' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>({ foo:'bar, tee' }, { comma:true }), { foo:['bar', 'tee'] });st.end();});t.test('<a class="el" href="application_8js.html#a8192500ed5d08ae60d3778b54729bd51">use</a> number <a class="el" href="dbcs-codec_8js.html#ad3d625998d0232650afb4cf3c50dc9f1">decoder</a>, parses string that <a class="el" href="lib_2parse_8js.html#a1fd59be22bbab6bc2baae116e333d914">has</a> one number with comma option <a class="el" href="debug_8js.html#af2904d770a67b3b7593a990075e6541a">enabled</a>', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { var <a class="el" href="dbcs-codec_8js.html#ad3d625998d0232650afb4cf3c50dc9f1">decoder</a>=<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(str, defaultDecoder, <a class="el" href="negotiator_2index_8js.html#a57f5b60955b20f18ba489a7aad60314b">charset</a>, <a class="el" href="cli_8js.html#affea7e61106a6a9da029c8af702aaf20">type</a>) { <a class="el" href="buffer-writer_2index_8js.html#af5573e69e835b9cd97daf36e3072666b">if</a>(!isNaN(Number(str))) { return parseFloat(str);} return defaultDecoder(str, defaultDecoder, <a class="el" href="negotiator_2index_8js.html#a57f5b60955b20f18ba489a7aad60314b">charset</a>, <a class="el" href="cli_8js.html#affea7e61106a6a9da029c8af702aaf20">type</a>);};st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=1', { comma:true, decoder:decoder }), { foo:1 });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=0', { comma:true, decoder:decoder }), { foo:0 });st.end();});t.test('parses brackets holds <a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a> of arrays when having two parts of strings with comma as <a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a> divider', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]=1, 2, 3 &amp;foo[]=4, 5, 6', { comma:true }), { foo:[['1', '2', '3'], ['4', '5', '6']] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]=1, 2, 3 &amp;foo[]=', { comma:true }), { foo:[['1', '2', '3'], ''] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]=1, 2, 3 &amp;foo[]=,', { comma:true }), { foo:[['1', '2', '3'], ['', '']] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]=1, 2, 3 &amp;foo[]=a', { comma:true }), { foo:[['1', '2', '3'], 'a'] });st.end();});t.test('parses url-encoded brackets holds <a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a> of arrays when having two parts of strings with comma as <a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a> divider', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo%5B%5D=1, 2, 3 &amp;foo%5B%5D=4, 5, 6', { comma:true }), { foo:[['1', '2', '3'], ['4', '5', '6']] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo%5B%5D=1, 2, 3 &amp;foo%5B%5D=', { comma:true }), { foo:[['1', '2', '3'], ''] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo%5B%5D=1, 2, 3 &amp;foo%5B%5D=,', { comma:true }), { foo:[['1', '2', '3'], ['', '']] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo%5B%5D=1, 2, 3 &amp;foo%5B%5D=a', { comma:true }), { foo:[['1', '2', '3'], 'a'] });st.end();});t.test('parses comma delimited <a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a> while having percent-encoded comma treated as normal text', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=a%2Cb', { comma:true }), { foo:'a, b' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=a%2C%20b, <a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>', { comma:true }), { foo:['a, b', '<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=a%2C%20b, <a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>%2C%20d', { comma:true }), { foo:['a, b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>, <a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>'] });st.end();});t.test('parses an object in dot notation', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { var input={ '<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">user.name</a>':{ 'pop[bob]':3 }, 'user.email.':null };var expected={ user:{ name:{ 'pop[bob]':3 }, email:null } };var result=<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>(input, { allowDots:true });st.deepEqual(result, expected);st.end();});t.test('parses an object and not child values', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { var input={ 'user[<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>]':{ 'pop[bob]':{ test:3 } }, 'user[email]':null };var expected={ user:{ name:{ 'pop[bob]':{ test:3 } }, email:null } };var result=<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>(input);st.deepEqual(result, expected);st.end();});t.test('does not blow up when Buffer global <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> missing', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { var <a class="el" href="express_2lib_2router_2index_8js.html#ac649271471f71d8f8090e08d446725fe">restore</a>=<a class="el" href="_get_intrinsic_8js.html#a664e99f1d4de30c703cc1829247ba3c4">mockProperty</a>(global, 'Buffer', { '<a class="el" href="server_8js.html#af5592b322cf023a990308ac1e32c856d">delete</a>':true });var result=<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b &amp;<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>');<a class="el" href="express_2lib_2router_2index_8js.html#ac649271471f71d8f8090e08d446725fe">restore</a>();st.deepEqual(result, { a:'b', c:'<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>' });st.end();});t.test('does not crash when parsing circular references', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { var a={};a.b=a;var parsed;st.doesNotThrow(<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { parsed=<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>({ 'foo[bar]':'baz', 'foo[baz]':a });});<a class="el" href="mime_2src_2test_8js.html#a678b786d8ca72572f8af97bed94a5eb1">st.equal</a>('foo' in parsed, true, 'parsed <a class="el" href="lib_2parse_8js.html#a1fd59be22bbab6bc2baae116e333d914">has</a> &quot;foo&quot; property');<a class="el" href="mime_2src_2test_8js.html#a678b786d8ca72572f8af97bed94a5eb1">st.equal</a>('bar' in parsed.foo, true);<a class="el" href="mime_2src_2test_8js.html#a678b786d8ca72572f8af97bed94a5eb1">st.equal</a>('baz' in parsed.foo, true);<a class="el" href="mime_2src_2test_8js.html#a678b786d8ca72572f8af97bed94a5eb1">st.equal</a>(parsed.foo.bar, 'baz');st.deepEqual(parsed.foo.baz, a);st.end();});t.test('does not crash when parsing deep objects', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { var parsed;var str='foo';<a class="el" href="dbcs-codec_8js.html#a3640a64c8d4fe02d6ade18fddf7457c4">for</a>(var i=0;i&lt; 5000;i++) { str+='[p]';} str+='=bar';st.doesNotThrow(<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { parsed=<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>(str, { depth:5000 });});<a class="el" href="mime_2src_2test_8js.html#a678b786d8ca72572f8af97bed94a5eb1">st.equal</a>('foo' in parsed, true, 'parsed <a class="el" href="lib_2parse_8js.html#a1fd59be22bbab6bc2baae116e333d914">has</a> &quot;foo&quot; property');var depth=0;var ref=parsed.foo;while((ref=ref.p)) { depth+=1;} <a class="el" href="mime_2src_2test_8js.html#a678b786d8ca72572f8af97bed94a5eb1">st.equal</a>(depth, 5000, 'parsed <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> 5000 properties deep');st.end();});t.test('parses null objects correctly', { skip:!Object.create }, <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { var a=Object.create(null);a.b='<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>';st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>(a), { b:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' });var result=<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>({ a:a });<a class="el" href="mime_2src_2test_8js.html#a678b786d8ca72572f8af97bed94a5eb1">st.equal</a>('a' in result, true, 'result <a class="el" href="lib_2parse_8js.html#a1fd59be22bbab6bc2baae116e333d914">has</a> &quot;a&quot; property');st.deepEqual(result.a, a);st.end();});t.test('parses dates correctly', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { var now=new Date();st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>({ a:now }), { a:now });st.end();});t.test('parses regular expressions correctly', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { var re=/^test$/;st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>({ a:re }), { a:re });st.end();});t.test('does not allow overwriting <a class="el" href="internal_8js.html#a22c3fb2b14bdd9d6de4c61f2778f4444">prototype</a> properties', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[hasOwnProperty]=b', { allowPrototypes:false }), {});st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('hasOwnProperty=b', { allowPrototypes:false }), {});st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('<a class="el" href="express_2lib_2router_2index_8js.html#a7c9b2c6889147a97101a5409709b8d91">toString</a>', { allowPrototypes:false }), {}, 'bare &quot;toString&quot; results in {}');st.end();});t.test('can allow overwriting <a class="el" href="internal_8js.html#a22c3fb2b14bdd9d6de4c61f2778f4444">prototype</a> properties', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[hasOwnProperty]=b', { allowPrototypes:true }), { a:{ hasOwnProperty:'b' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('hasOwnProperty=b', { allowPrototypes:true }), { hasOwnProperty:'b' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('<a class="el" href="express_2lib_2router_2index_8js.html#a7c9b2c6889147a97101a5409709b8d91">toString</a>', { allowPrototypes:true }), { toString:'' }, 'bare &quot;toString&quot; results in { toString:&quot;&quot; }');st.end();});t.test('does not crash when the global Object <a class="el" href="internal_8js.html#a22c3fb2b14bdd9d6de4c61f2778f4444">prototype</a> <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> frozen', { skip:!hasPropertyDescriptors||!<a class="el" href="#a3ab4798bee35c356bc1c22c319aee19d">hasOverrideMistake</a> }, <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.teardown(<a class="el" href="_get_intrinsic_8js.html#a664e99f1d4de30c703cc1829247ba3c4">mockProperty</a>(<a class="el" href="internal_8js.html#a22c3fb2b14bdd9d6de4c61f2778f4444">Object.prototype</a>, 'frozenProp', { value:'foo', nonWritable:true, nonEnumerable:true }));st['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { var <a class="el" href="all_8js.html#ab15a7ef94ea648e0a722a49372614731">obj</a>={};obj.frozenProp='bar';},/^TypeError:Cannot <a class="el" href="qs_2lib_2utils_8js.html#a22b5a735edb78e9f8fdfb7618dc7a6b7">assign</a> to read only property 'frozenProp' of(?:object '#&lt; Object &gt;'|#&lt; Object &gt;)/, 'regular assignment of an inherited non-writable property throws');var parsed;st.doesNotThrow(<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { parsed=<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('frozenProp', { allowPrototypes:false });}, 'parsing a nonwritable <a class="el" href="internal_8js.html#a22c3fb2b14bdd9d6de4c61f2778f4444">Object.prototype</a> property does not throw');st.deepEqual(parsed, {}, 'bare &quot;frozenProp&quot; results in {}');st.end();});t.test('params starting with a closing bracket', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>(']=<a class="el" href="express_2lib_2router_2index_8js.html#a7c9b2c6889147a97101a5409709b8d91">toString</a>'), { ']':'<a class="el" href="express_2lib_2router_2index_8js.html#a7c9b2c6889147a97101a5409709b8d91">toString</a>' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>(']]=<a class="el" href="express_2lib_2router_2index_8js.html#a7c9b2c6889147a97101a5409709b8d91">toString</a>'), { ']]':'<a class="el" href="express_2lib_2router_2index_8js.html#a7c9b2c6889147a97101a5409709b8d91">toString</a>' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>(']hello]=<a class="el" href="express_2lib_2router_2index_8js.html#a7c9b2c6889147a97101a5409709b8d91">toString</a>'), { ']hello]':'<a class="el" href="express_2lib_2router_2index_8js.html#a7c9b2c6889147a97101a5409709b8d91">toString</a>' });st.end();});t.test('params starting with a starting bracket', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('[=<a class="el" href="express_2lib_2router_2index_8js.html#a7c9b2c6889147a97101a5409709b8d91">toString</a>'), { '[':'<a class="el" href="express_2lib_2router_2index_8js.html#a7c9b2c6889147a97101a5409709b8d91">toString</a>' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('[[=<a class="el" href="express_2lib_2router_2index_8js.html#a7c9b2c6889147a97101a5409709b8d91">toString</a>'), { '[[':'<a class="el" href="express_2lib_2router_2index_8js.html#a7c9b2c6889147a97101a5409709b8d91">toString</a>' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('[hello[=<a class="el" href="express_2lib_2router_2index_8js.html#a7c9b2c6889147a97101a5409709b8d91">toString</a>'), { '[hello[':'<a class="el" href="express_2lib_2router_2index_8js.html#a7c9b2c6889147a97101a5409709b8d91">toString</a>' });st.end();});t.test('<a class="el" href="buffer-writer_2index_8js.html#aff2422623af8408372a7708dfc043270">add</a> <a class="el" href="build_8js.html#a2d89a02a5a2340b3da7f2c23838fabf4">keys</a> to objects', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> &amp;a=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>'), { a:{ b:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', d:true } }, 'can <a class="el" href="buffer-writer_2index_8js.html#aff2422623af8408372a7708dfc043270">add</a> <a class="el" href="build_8js.html#a2d89a02a5a2340b3da7f2c23838fabf4">keys</a> to objects');st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> &amp;a=<a class="el" href="express_2lib_2router_2index_8js.html#a7c9b2c6889147a97101a5409709b8d91">toString</a>'), { a:{ b:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' } }, 'can not overwrite <a class="el" href="internal_8js.html#a22c3fb2b14bdd9d6de4c61f2778f4444">prototype</a>');st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> &amp;a=<a class="el" href="express_2lib_2router_2index_8js.html#a7c9b2c6889147a97101a5409709b8d91">toString</a>', { allowPrototypes:true }), { a:{ b:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', toString:true } }, 'can overwrite <a class="el" href="internal_8js.html#a22c3fb2b14bdd9d6de4c61f2778f4444">prototype</a> with allowPrototypes true');st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> &amp;a=<a class="el" href="express_2lib_2router_2index_8js.html#a7c9b2c6889147a97101a5409709b8d91">toString</a>', { plainObjects:true }), { __proto__:null, a:{ __proto__:null, b:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', toString:true } }, 'can overwrite <a class="el" href="internal_8js.html#a22c3fb2b14bdd9d6de4c61f2778f4444">prototype</a> with plainObjects true');st.end();});t.test('dunder <a class="el" href="express_8js.html#a930fae672851c7e279583e20638e2228">proto</a> <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> ignored', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { var payload='categories[__proto__]=login &amp;categories[__proto__]&amp;categories[length]=42';var result=<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>(payload, { allowPrototypes:true });st.deepEqual(result, { categories:{ length:'42' } }, 'silent[[Prototype]] payload');var plainResult=<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>(payload, { allowPrototypes:true, plainObjects:true });st.deepEqual(plainResult, { __proto__:null, categories:{ __proto__:null, length:'42' } }, 'silent[[Prototype]] payload:plain objects');var <a class="el" href="application_8js.html#a3934419f0f9a2068c705a0013b77fab3">query</a>=<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('categories[__proto__]=cats &amp;categories[__proto__]=dogs &amp;categories[some][<a class="el" href="express_8js.html#ac6fdc7f7005e375dc7d7dce4bc785ab4">json</a>]=toInject', { allowPrototypes:true });st.notOk(<a class="el" href="lib_2parse_8js.html#adca5ce0ed65a1514a671ae81eb33bd53">Array.isArray</a>(query.categories), '<a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> not an <a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a>');st.notOk(query.categories instanceof Array, '<a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> not instanceof an <a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a>');st.deepEqual(query.categories, { some:{ json:'toInject' } });<a class="el" href="mime_2src_2test_8js.html#a678b786d8ca72572f8af97bed94a5eb1">st.equal</a>(<a class="el" href="qs_2lib_2index_8js.html#a933f8ff8d69be620d8091034ba62666c">JSON.stringify</a>(query.categories), '{&quot;some&quot;:{&quot;json&quot;:&quot;toInject&quot;}}', 'stringifies as a non-<a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a>');st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[__proto__][hidden]=<a class="el" href="get-intrinsic_2index_8js.html#aacce635d68067370c70caa2381ea1040">value</a> &amp;foo[bar]=stuffs', { allowPrototypes:true }), { foo:{ bar:'stuffs' } }, 'hidden values');st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[__proto__][hidden]=<a class="el" href="get-intrinsic_2index_8js.html#aacce635d68067370c70caa2381ea1040">value</a> &amp;foo[bar]=stuffs', { allowPrototypes:true, plainObjects:true }), { __proto__:null, foo:{ __proto__:null, bar:'stuffs' } }, 'hidden values:plain objects');st.end();});t.test('can return null objects', { skip:!Object.create }, <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { var expected=Object.create(null);expected.a=Object.create(null);expected.a.b='<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>';expected.a.hasOwnProperty='<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>';st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> &amp;a[hasOwnProperty]=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>', { plainObjects:true }), expected);st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>(null, { plainObjects:true }), Object.create(null));var expectedArray=Object.create(null);expectedArray.a=Object.create(null);expectedArray.a[0]='b';<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">expectedArray.a.c</a>='<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>';st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b &amp;a[<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>]=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>', { plainObjects:true }), expectedArray);st.end();});t.test('can <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">parse</a> with custom <a class="el" href="negotiator_2index_8js.html#a9ad8213a7626ee07aef47950752cac18">encoding</a>', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('%8<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>%a7=%91%e5%8<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>%e3%95%7b', { decoder:function(str) { var reg=/%([0-9A-F]{2})/ig;var result=[];var parts=reg.exec(str);while(parts) { <a class="el" href="lib_2stringify_8js.html#aa24e781fe0b662d38aac138432ec5e48">result.push</a>(parseInt(parts[1], 16));parts=reg.exec(str);} return String(<a class="el" href="qs_2lib_2utils_8js.html#ac721e66172d6d912c266675c12bcc0d5">iconv.decode</a>(SaferBuffer.from(result), 'shift_jis'));} }), { 県:'大阪府' });st.end();});t.test('receives the default <a class="el" href="dbcs-codec_8js.html#ad3d625998d0232650afb4cf3c50dc9f1">decoder</a> as a second argument', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.plan(1);<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a', { decoder:function(str, defaultDecoder) { <a class="el" href="mime_2src_2test_8js.html#a678b786d8ca72572f8af97bed94a5eb1">st.equal</a>(defaultDecoder, <a class="el" href="qs_2lib_2utils_8js.html#ac721e66172d6d912c266675c12bcc0d5">utils.decode</a>);} });st.end();});t.test('throws error with wrong <a class="el" href="dbcs-codec_8js.html#ad3d625998d0232650afb4cf3c50dc9f1">decoder</a>', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>({}, { decoder:'string' });}, new TypeError('Decoder <a class="el" href="lib_2parse_8js.html#a1fd59be22bbab6bc2baae116e333d914">has</a> to be a function.'));st.end();});t.test('does not mutate the options argument', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { var options={};<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b]=true', options);st.deepEqual(options, {});st.end();});t.test('throws <a class="el" href="buffer-writer_2index_8js.html#af5573e69e835b9cd97daf36e3072666b">if</a> an invalid <a class="el" href="negotiator_2index_8js.html#a57f5b60955b20f18ba489a7aad60314b">charset</a> <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> specified', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b', { charset:'foobar' });}, new TypeError('The <a class="el" href="negotiator_2index_8js.html#a57f5b60955b20f18ba489a7aad60314b">charset</a> option must be either utf-8, iso-8859-1, or <a class="el" href="get-intrinsic_2index_8js.html#ae6aa4817f0f49345b718ea6b4abae197">undefined</a>'));st.end();});t.test('parses an iso-8859-1 string <a class="el" href="buffer-writer_2index_8js.html#af5573e69e835b9cd97daf36e3072666b">if</a> asked to', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('%A2=%BD', { charset:'iso-8859-1' }), { '¢':'½' });st.end();});var urlEncodedCheckmarkInUtf8='%E2%9C%93';var urlEncodedOSlashInUtf8='%C3%B8';var urlEncodedNumCheckmark='%26%2310003%3B';var urlEncodedNumSmiley='%26%239786%3B';t.test('prefers an utf-8 <a class="el" href="negotiator_2index_8js.html#a57f5b60955b20f18ba489a7aad60314b">charset</a> specified by the utf8 <a class="el" href="has-property-descriptors_2test_2index_8js.html#a2da6b014cd66589b4bfca00873aeb11d">sentinel</a> to a default <a class="el" href="negotiator_2index_8js.html#a57f5b60955b20f18ba489a7aad60314b">charset</a> of iso-8859-1', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('utf8='+urlEncodedCheckmarkInUtf8+'&amp;'+urlEncodedOSlashInUtf8+'='+urlEncodedOSlashInUtf8, { charsetSentinel:true, charset:'iso-8859-1' }), { ø:'ø' });st.end();});t.test('prefers an iso-8859-1 <a class="el" href="negotiator_2index_8js.html#a57f5b60955b20f18ba489a7aad60314b">charset</a> specified by the utf8 <a class="el" href="has-property-descriptors_2test_2index_8js.html#a2da6b014cd66589b4bfca00873aeb11d">sentinel</a> to a default <a class="el" href="negotiator_2index_8js.html#a57f5b60955b20f18ba489a7aad60314b">charset</a> of utf-8', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('utf8='+urlEncodedNumCheckmark+'&amp;'+urlEncodedOSlashInUtf8+'='+urlEncodedOSlashInUtf8, { charsetSentinel:true, charset:'utf-8' }), { 'Ã¸':'Ã¸' });st.end();});t.test('does not <a class="el" href="test-core-js_8js.html#a2fc998a372f1531668f7047d0878effe">require</a> the utf8 <a class="el" href="has-property-descriptors_2test_2index_8js.html#a2da6b014cd66589b4bfca00873aeb11d">sentinel</a> to be defined before the parameters whose decoding it affects', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a='+urlEncodedOSlashInUtf8+'&amp;utf8='+urlEncodedNumCheckmark, { charsetSentinel:true, charset:'utf-8' }), { a:'Ã¸' });st.end();});t.test('should ignore an utf8 <a class="el" href="has-property-descriptors_2test_2index_8js.html#a2da6b014cd66589b4bfca00873aeb11d">sentinel</a> with an unknown <a class="el" href="get-intrinsic_2index_8js.html#aacce635d68067370c70caa2381ea1040">value</a>', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('utf8=foo &amp;'+urlEncodedOSlashInUtf8+'='+urlEncodedOSlashInUtf8, { charsetSentinel:true, charset:'utf-8' }), { ø:'ø' });st.end();});t.test('uses the utf8 <a class="el" href="has-property-descriptors_2test_2index_8js.html#a2da6b014cd66589b4bfca00873aeb11d">sentinel</a> to switch to utf-8 when no default <a class="el" href="negotiator_2index_8js.html#a57f5b60955b20f18ba489a7aad60314b">charset</a> <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> given', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('utf8='+urlEncodedCheckmarkInUtf8+'&amp;'+urlEncodedOSlashInUtf8+'='+urlEncodedOSlashInUtf8, { charsetSentinel:true }), { ø:'ø' });st.end();});t.test('uses the utf8 <a class="el" href="has-property-descriptors_2test_2index_8js.html#a2da6b014cd66589b4bfca00873aeb11d">sentinel</a> to switch to iso-8859-1 when no default <a class="el" href="negotiator_2index_8js.html#a57f5b60955b20f18ba489a7aad60314b">charset</a> <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> given', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('utf8='+urlEncodedNumCheckmark+'&amp;'+urlEncodedOSlashInUtf8+'='+urlEncodedOSlashInUtf8, { charsetSentinel:true }), { 'Ã¸':'Ã¸' });st.end();});t.test('interprets numeric entities in iso-8859-1 when `<a class="el" href="lib_2parse_8js.html#a48bc885ef7be5572a4710a70d94481c6">interpretNumericEntities</a>`', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo='+urlEncodedNumSmiley, { charset:'iso-8859-1', interpretNumericEntities:true }), { foo:'☺' });st.end();});t.test('handles a custom <a class="el" href="dbcs-codec_8js.html#ad3d625998d0232650afb4cf3c50dc9f1">decoder</a> returning `null`, in the `iso-8859-1` <a class="el" href="negotiator_2index_8js.html#a57f5b60955b20f18ba489a7aad60314b">charset</a>, when `<a class="el" href="lib_2parse_8js.html#a48bc885ef7be5572a4710a70d94481c6">interpretNumericEntities</a>`', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=&amp;bar='+urlEncodedNumSmiley, { charset:'iso-8859-1', decoder:function(str, defaultDecoder, <a class="el" href="negotiator_2index_8js.html#a57f5b60955b20f18ba489a7aad60314b">charset</a>) { return str ? defaultDecoder(str, defaultDecoder, <a class="el" href="negotiator_2index_8js.html#a57f5b60955b20f18ba489a7aad60314b">charset</a>) :null;}, interpretNumericEntities:true }), { foo:null, bar:'☺' });st.end();});t.test('does not interpret numeric entities in iso-8859-1 when `<a class="el" href="lib_2parse_8js.html#a48bc885ef7be5572a4710a70d94481c6">interpretNumericEntities</a>` <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> absent', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo='+urlEncodedNumSmiley, { charset:'iso-8859-1' }), { foo:'&amp;#9786;' });st.end();});t.test('does not interpret numeric entities when the <a class="el" href="negotiator_2index_8js.html#a57f5b60955b20f18ba489a7aad60314b">charset</a> <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> utf-8, even when `<a class="el" href="lib_2parse_8js.html#a48bc885ef7be5572a4710a70d94481c6">interpretNumericEntities</a>`', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo='+urlEncodedNumSmiley, { charset:'utf-8', interpretNumericEntities:true }), { foo:'&amp;#9786;' });st.end();});t.test('does not interpret %uXXXX syntax in iso-8859-1 mode', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('%u263A=%u263A', { charset:'iso-8859-1' }), { '%u263A':'%u263A' });st.end();});t.test('allows <a class="el" href="dbcs-codec_8js.html#a3640a64c8d4fe02d6ade18fddf7457c4">for</a> decoding <a class="el" href="build_8js.html#a2d89a02a5a2340b3da7f2c23838fabf4">keys</a> and values differently', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { var <a class="el" href="dbcs-codec_8js.html#ad3d625998d0232650afb4cf3c50dc9f1">decoder</a>=<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(str, defaultDecoder, <a class="el" href="negotiator_2index_8js.html#a57f5b60955b20f18ba489a7aad60314b">charset</a>, <a class="el" href="cli_8js.html#affea7e61106a6a9da029c8af702aaf20">type</a>) { <a class="el" href="buffer-writer_2index_8js.html#af5573e69e835b9cd97daf36e3072666b">if</a>(<a class="el" href="cli_8js.html#affea7e61106a6a9da029c8af702aaf20">type</a>==='key') { return defaultDecoder(str, defaultDecoder, <a class="el" href="negotiator_2index_8js.html#a57f5b60955b20f18ba489a7aad60314b">charset</a>, <a class="el" href="cli_8js.html#affea7e61106a6a9da029c8af702aaf20">type</a>).toLowerCase();} <a class="el" href="buffer-writer_2index_8js.html#af5573e69e835b9cd97daf36e3072666b">if</a>(<a class="el" href="cli_8js.html#affea7e61106a6a9da029c8af702aaf20">type</a>==='<a class="el" href="get-intrinsic_2index_8js.html#aacce635d68067370c70caa2381ea1040">value</a>') { return defaultDecoder(str, defaultDecoder, <a class="el" href="negotiator_2index_8js.html#a57f5b60955b20f18ba489a7aad60314b">charset</a>, <a class="el" href="cli_8js.html#affea7e61106a6a9da029c8af702aaf20">type</a>).toUpperCase();} throw 'this should never happen! type:'+<a class="el" href="cli_8js.html#affea7e61106a6a9da029c8af702aaf20">type</a>;};st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('KeY=vAlUe', { decoder:decoder }), { key:'VALUE' });st.end();});t.end();})</td></tr>
<tr class="separator:a9a441a0af1a6a72e238ef76210aa5881"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add7a6cdecbc66b8f70f25c5936fec645" id="r_add7a6cdecbc66b8f70f25c5936fec645"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#add7a6cdecbc66b8f70f25c5936fec645">test</a> ('parses empty <a class="el" href="build_8js.html#a2d89a02a5a2340b3da7f2c23838fabf4">keys</a>', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(t) { <a class="el" href="call-bind_2test_2index_8js.html#a56555593fcdace53c8cf68fb2b4a8892">emptyTestCases.forEach</a>(<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(testCase) { t.test('<a class="el" href="debug_8js.html#a8578c8199799bc9fda15156a1a91cc2f">skips</a> empty string key with '+testCase.input, <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>(testCase.input), testCase.noEmptyKeys);st.end();});});})</td></tr>
<tr class="separator:add7a6cdecbc66b8f70f25c5936fec645"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33dbe180e62c4879120e834ff161ce10" id="r_a33dbe180e62c4879120e834ff161ce10"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a33dbe180e62c4879120e834ff161ce10">test</a> ('`duplicates` option', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(t) { <a class="el" href="express_2lib_2router_2index_8js.html#a6313f74f769f42d0d5057d4bd32842e9">v.nonStrings.concat</a>('not a valid option').<a class="el" href="call-bind_2test_2index_8js.html#a56555593fcdace53c8cf68fb2b4a8892">forEach</a>(<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(invalidOption) { <a class="el" href="buffer-writer_2index_8js.html#af5573e69e835b9cd97daf36e3072666b">if</a>(typeof invalidOption !=='<a class="el" href="get-intrinsic_2index_8js.html#ae6aa4817f0f49345b718ea6b4abae197">undefined</a>') { t['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('', { duplicates:invalidOption });}, TypeError, 'throws on invalid option:'+<a class="el" href="call-bind_2test_2index_8js.html#ada233bc1a09b3d9309abcd7d4a0baebe">inspect</a>(invalidOption));} });t.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=bar &amp;foo=baz'), { foo:['bar', 'baz'] }, 'duplicates:default, <a class="el" href="qs_2lib_2utils_8js.html#a842ccc9f567b37443c4bce53f1cdec48">combine</a>');t.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=bar &amp;foo=baz', { duplicates:'<a class="el" href="qs_2lib_2utils_8js.html#a842ccc9f567b37443c4bce53f1cdec48">combine</a>' }), { foo:['bar', 'baz'] }, 'duplicates:combine');t.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=bar &amp;foo=baz', { duplicates:'first' }), { foo:'bar' }, 'duplicates:first');t.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=bar &amp;foo=baz', { duplicates:'last' }), { foo:'baz' }, 'duplicates:last');t.end();})</td></tr>
<tr class="separator:a33dbe180e62c4879120e834ff161ce10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49f2ca65ed9f1e6a6549d20b7fcf1603" id="r_a49f2ca65ed9f1e6a6549d20b7fcf1603"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a49f2ca65ed9f1e6a6549d20b7fcf1603">test</a> ('<a class="el" href="express_2lib_2middleware_2query_8js.html#ae113bda2a6abef22f6372c8fd21e22af">qs</a> strictDepth option - throw cases', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(t) { t.test('throws an exception when depth exceeds the <a class="el" href="qs_2lib_2utils_8js.html#abcb5d8b4a4a1f3baf285ff81dae46fdf">limit</a> with strictDepth:true', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>][<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>][e][f][g][<a class="el" href="ms_2index_8js.html#a79fe0eb780a2a4b5543b4dddf8b6188a">h</a>][i]=<a class="el" href="browser_8js.html#aeea493c7afe8b905d89d2ef3ac307efb">j</a>', { depth:1, strictDepth:true });}, RangeError, 'Should throw RangeError');st.end();});t.test('throws an exception <a class="el" href="dbcs-codec_8js.html#a3640a64c8d4fe02d6ade18fddf7457c4">for</a> multiple nested arrays with strictDepth:true', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[0][1][2][3][4]=b', { depth:3, strictDepth:true });}, RangeError, 'Should throw RangeError');st.end();});t.test('throws an exception <a class="el" href="dbcs-codec_8js.html#a3640a64c8d4fe02d6ade18fddf7457c4">for</a> nested objects and arrays with strictDepth:true', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>][0][<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>][e]=f', { depth:3, strictDepth:true });}, RangeError, 'Should throw RangeError');st.end();});t.test('throws an exception <a class="el" href="dbcs-codec_8js.html#a3640a64c8d4fe02d6ade18fddf7457c4">for</a> different <a class="el" href="build_8js.html#a5802f014ed8e96d3a513f114faa91d12">types</a> of values with strictDepth:true', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>][<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>][e]=true &amp;a[b][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>][<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>][f]=42', { depth:3, strictDepth:true });}, RangeError, 'Should throw RangeError');st.end();});})</td></tr>
<tr class="separator:a49f2ca65ed9f1e6a6549d20b7fcf1603"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16809456dc029784c0402a88a89fb9c2" id="r_a16809456dc029784c0402a88a89fb9c2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a16809456dc029784c0402a88a89fb9c2">test</a> ('<a class="el" href="express_2lib_2middleware_2query_8js.html#ae113bda2a6abef22f6372c8fd21e22af">qs</a> strictDepth option - non-throw cases', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(t) { t.test('when depth <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> 0 and strictDepth true, do not throw', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.doesNotThrow(<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>][<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>][e]=true &amp;a[b][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>][<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>][f]=42', { depth:0, strictDepth:true });}, RangeError, 'Should not throw RangeError');st.end();});t.test('parses successfully when depth <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> within the <a class="el" href="qs_2lib_2utils_8js.html#abcb5d8b4a4a1f3baf285ff81dae46fdf">limit</a> with strictDepth:true', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.doesNotThrow(<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { var result=<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { depth:1, strictDepth:true });st.deepEqual(result, { a:{ b:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' } }, 'Should <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">parse</a> correctly');});st.end();});t.test('does not throw an exception when depth exceeds the <a class="el" href="qs_2lib_2utils_8js.html#abcb5d8b4a4a1f3baf285ff81dae46fdf">limit</a> with strictDepth:false', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.doesNotThrow(<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { var result=<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>][<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>][e][f][g][<a class="el" href="ms_2index_8js.html#a79fe0eb780a2a4b5543b4dddf8b6188a">h</a>][i]=<a class="el" href="browser_8js.html#aeea493c7afe8b905d89d2ef3ac307efb">j</a>', { depth:1 });st.deepEqual(result, { a:{ b:{ '[<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>][<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>][e][f][g][<a class="el" href="ms_2index_8js.html#a79fe0eb780a2a4b5543b4dddf8b6188a">h</a>][i]':'<a class="el" href="browser_8js.html#aeea493c7afe8b905d89d2ef3ac307efb">j</a>' } } }, 'Should <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">parse</a> with depth <a class="el" href="qs_2lib_2utils_8js.html#abcb5d8b4a4a1f3baf285ff81dae46fdf">limit</a>');});st.end();});t.test('parses successfully when depth <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> within the <a class="el" href="qs_2lib_2utils_8js.html#abcb5d8b4a4a1f3baf285ff81dae46fdf">limit</a> with strictDepth:false', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.doesNotThrow(<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { var result=<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { depth:1 });st.deepEqual(result, { a:{ b:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' } }, 'Should <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">parse</a> correctly');});st.end();});t.test('does not throw when depth <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> exactly at the <a class="el" href="qs_2lib_2utils_8js.html#abcb5d8b4a4a1f3baf285ff81dae46fdf">limit</a> with strictDepth:true', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.doesNotThrow(<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { var result=<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>]=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>', { depth:2, strictDepth:true });st.deepEqual(result, { a:{ b:{ c:'<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>' } } }, 'Should <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">parse</a> correctly');});st.end();});})</td></tr>
<tr class="separator:a16809456dc029784c0402a88a89fb9c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae2475e10618961c050dcba04e8c42331" id="r_ae2475e10618961c050dcba04e8c42331"><td class="memItemLeft" align="right" valign="top"><a class="el" href="application_8js.html#a8192500ed5d08ae60d3778b54729bd51">use</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae2475e10618961c050dcba04e8c42331">strict</a></td></tr>
<tr class="separator:ae2475e10618961c050dcba04e8c42331"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a897d91c374db023efd4ed28e633ade" id="r_a3a897d91c374db023efd4ed28e633ade"><td class="memItemLeft" align="right" valign="top">var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3a897d91c374db023efd4ed28e633ade">test</a> = <a class="el" href="test-core-js_8js.html#a2fc998a372f1531668f7047d0878effe">require</a>('tape')</td></tr>
<tr class="separator:a3a897d91c374db023efd4ed28e633ade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fc758637ef26252a15041e36da39e0a" id="r_a8fc758637ef26252a15041e36da39e0a"><td class="memItemLeft" align="right" valign="top">var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8fc758637ef26252a15041e36da39e0a">hasPropertyDescriptors</a> = <a class="el" href="test-core-js_8js.html#a2fc998a372f1531668f7047d0878effe">require</a>('<a class="el" href="lib_2parse_8js.html#a1fd59be22bbab6bc2baae116e333d914">has</a>-property-descriptors')()</td></tr>
<tr class="separator:a8fc758637ef26252a15041e36da39e0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c062989a80f49a2caf367fe212f6b52" id="r_a5c062989a80f49a2caf367fe212f6b52"><td class="memItemLeft" align="right" valign="top">var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5c062989a80f49a2caf367fe212f6b52">iconv</a> = <a class="el" href="test-core-js_8js.html#a2fc998a372f1531668f7047d0878effe">require</a>('iconv-lite')</td></tr>
<tr class="separator:a5c062989a80f49a2caf367fe212f6b52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a664e99f1d4de30c703cc1829247ba3c4" id="r_a664e99f1d4de30c703cc1829247ba3c4"><td class="memItemLeft" align="right" valign="top">var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a664e99f1d4de30c703cc1829247ba3c4">mockProperty</a> = <a class="el" href="test-core-js_8js.html#a2fc998a372f1531668f7047d0878effe">require</a>('mock-property')</td></tr>
<tr class="separator:a664e99f1d4de30c703cc1829247ba3c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ab4798bee35c356bc1c22c319aee19d" id="r_a3ab4798bee35c356bc1c22c319aee19d"><td class="memItemLeft" align="right" valign="top">var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3ab4798bee35c356bc1c22c319aee19d">hasOverrideMistake</a> = <a class="el" href="test-core-js_8js.html#a2fc998a372f1531668f7047d0878effe">require</a>('<a class="el" href="lib_2parse_8js.html#a1fd59be22bbab6bc2baae116e333d914">has</a>-override-mistake')()</td></tr>
<tr class="separator:a3ab4798bee35c356bc1c22c319aee19d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a247329390242dfbe6616ca6e51020739" id="r_a247329390242dfbe6616ca6e51020739"><td class="memItemLeft" align="right" valign="top">var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a247329390242dfbe6616ca6e51020739">SaferBuffer</a> = <a class="el" href="test-core-js_8js.html#a2fc998a372f1531668f7047d0878effe">require</a>('safer-<a class="el" href="b_8js.html#aad851473247e961d3bd53eea92dabe1d">buffer</a>').Buffer</td></tr>
<tr class="separator:a247329390242dfbe6616ca6e51020739"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc3dd12de12777f6e20b4c93b7e7cb96" id="r_afc3dd12de12777f6e20b4c93b7e7cb96"><td class="memItemLeft" align="right" valign="top">var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afc3dd12de12777f6e20b4c93b7e7cb96">v</a> = <a class="el" href="test-core-js_8js.html#a2fc998a372f1531668f7047d0878effe">require</a>('es-<a class="el" href="get-intrinsic_2index_8js.html#aacce635d68067370c70caa2381ea1040">value</a>-fixtures')</td></tr>
<tr class="separator:afc3dd12de12777f6e20b4c93b7e7cb96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada233bc1a09b3d9309abcd7d4a0baebe" id="r_ada233bc1a09b3d9309abcd7d4a0baebe"><td class="memItemLeft" align="right" valign="top">var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ada233bc1a09b3d9309abcd7d4a0baebe">inspect</a> = <a class="el" href="test-core-js_8js.html#a2fc998a372f1531668f7047d0878effe">require</a>('object-inspect')</td></tr>
<tr class="separator:ada233bc1a09b3d9309abcd7d4a0baebe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9891e020f47234a4102874e2f09f8cf" id="r_ae9891e020f47234a4102874e2f09f8cf"><td class="memItemLeft" align="right" valign="top">var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae9891e020f47234a4102874e2f09f8cf">emptyTestCases</a> = <a class="el" href="test-core-js_8js.html#a2fc998a372f1531668f7047d0878effe">require</a>('./empty-<a class="el" href="build_8js.html#a2d89a02a5a2340b3da7f2c23838fabf4">keys</a>-cases').emptyTestCases</td></tr>
<tr class="separator:ae9891e020f47234a4102874e2f09f8cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae113bda2a6abef22f6372c8fd21e22af" id="r_ae113bda2a6abef22f6372c8fd21e22af"><td class="memItemLeft" align="right" valign="top">var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae113bda2a6abef22f6372c8fd21e22af">qs</a> = <a class="el" href="test-core-js_8js.html#a2fc998a372f1531668f7047d0878effe">require</a>('../')</td></tr>
<tr class="separator:ae113bda2a6abef22f6372c8fd21e22af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b58b8887c6d26e09f79fbacfbda7f53" id="r_a7b58b8887c6d26e09f79fbacfbda7f53"><td class="memItemLeft" align="right" valign="top">var&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7b58b8887c6d26e09f79fbacfbda7f53">utils</a> = <a class="el" href="test-core-js_8js.html#a2fc998a372f1531668f7047d0878effe">require</a>('../lib/utils')</td></tr>
<tr class="separator:a7b58b8887c6d26e09f79fbacfbda7f53"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Documentación de funciones</h2>
<a id="a33dbe180e62c4879120e834ff161ce10" name="a33dbe180e62c4879120e834ff161ce10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33dbe180e62c4879120e834ff161ce10">&#9670;&#160;</a></span>test() <span class="overload">[1/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">test </td>
          <td>(</td>
          <td class="paramtype">'`duplicates` option'</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(t) { <a class="el" href="express_2lib_2router_2index_8js.html#a6313f74f769f42d0d5057d4bd32842e9">v.nonStrings.concat</a>('not a valid option').<a class="el" href="call-bind_2test_2index_8js.html#a56555593fcdace53c8cf68fb2b4a8892">forEach</a>(<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(invalidOption) { <a class="el" href="buffer-writer_2index_8js.html#af5573e69e835b9cd97daf36e3072666b">if</a>(typeof invalidOption !=='<a class="el" href="get-intrinsic_2index_8js.html#ae6aa4817f0f49345b718ea6b4abae197">undefined</a>') { t['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('', { duplicates:invalidOption });}, TypeError, 'throws on invalid option:'+<a class="el" href="call-bind_2test_2index_8js.html#ada233bc1a09b3d9309abcd7d4a0baebe">inspect</a>(invalidOption));} });t.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=bar &amp;foo=baz'), { foo:['bar', 'baz'] }, 'duplicates:default, <a class="el" href="qs_2lib_2utils_8js.html#a842ccc9f567b37443c4bce53f1cdec48">combine</a>');t.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=bar &amp;foo=baz', { duplicates:'<a class="el" href="qs_2lib_2utils_8js.html#a842ccc9f567b37443c4bce53f1cdec48">combine</a>' }), { foo:['bar', 'baz'] }, 'duplicates:combine');t.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=bar &amp;foo=baz', { duplicates:'first' }), { foo:'bar' }, 'duplicates:first');t.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=bar &amp;foo=baz', { duplicates:'last' }), { foo:'baz' }, 'duplicates:last');t.end();}</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9a441a0af1a6a72e238ef76210aa5881" name="a9a441a0af1a6a72e238ef76210aa5881"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a441a0af1a6a72e238ef76210aa5881">&#9670;&#160;</a></span>test() <span class="overload">[2/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">test </td>
          <td>(</td>
          <td class="paramtype">'<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">parse</a>()'</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(t) { t.test('parses a simple string', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('0=foo'), { 0:'foo' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>++'), { foo:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> ' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[&gt;=]=23'), { a:{ '&gt;=':'23' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[&lt;=&gt;]==23'), { a:{ '&lt;=&gt;':'=23' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[==]=23'), { a:{ '==':'23' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo', { strictNullHandling:true }), { foo:null });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo'), { foo:'' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo='), { foo:'' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=bar'), { foo:'bar' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>(' foo=bar=baz '), { ' foo ':' bar=baz ' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=bar=baz'), { foo:'bar=baz' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=bar &amp;bar=baz'), { foo:'bar', bar:'baz' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo2=bar2 &amp;baz2='), { foo2:'bar2', baz2:'' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=bar &amp;baz', { strictNullHandling:true }), { foo:'bar', baz:null });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=bar &amp;baz'), { foo:'bar', baz:'' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('cht=p3 &amp;chd=t:60, 40 &amp;chs=250x100 &amp;chl=Hello|World'), { cht:'p3', chd:'t:60, 40', chs:'250x100', chl:'Hello|World' });st.end();});t.test('comma:false', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b &amp;a[]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[0]=b &amp;a[1]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b, <a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:'b, <a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b &amp;a=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.end();});t.test('comma:true', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b &amp;a[]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { comma:true }), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[0]=b &amp;a[1]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { comma:true }), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b, <a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { comma:true }), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b &amp;a=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { comma:true }), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.end();});t.test('allows enabling dot notation', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a.b=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { 'a.b':'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a.b=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { allowDots:true }), { a:{ b:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' } });st.end();});t.test('<a class="el" href="qs_2lib_2utils_8js.html#ac721e66172d6d912c266675c12bcc0d5">decode</a> dot <a class="el" href="build_8js.html#a2d89a02a5a2340b3da7f2c23838fabf4">keys</a> correctly', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj.first=John &amp;<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj.last=Doe', { allowDots:false, decodeDotInKeys:false }), { '<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%2Eobj.first':'John', '<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%2Eobj.last':'Doe' }, 'with allowDots false and decodeDotInKeys false');st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('name.obj.first=John &amp;name.obj.last=Doe', { allowDots:true, decodeDotInKeys:false }), { name:{ obj:{ first:'John', last:'Doe' } } }, 'with allowDots false and decodeDotInKeys false');st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj.first=John &amp;<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj.last=Doe', { allowDots:true, decodeDotInKeys:false }), { '<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%2Eobj':{ first:'John', last:'Doe' } }, 'with allowDots true and decodeDotInKeys false');st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj.first=John &amp;<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj.last=Doe', { allowDots:true, decodeDotInKeys:true }), { '<a class="el" href="all_8js.html#ab15a7ef94ea648e0a722a49372614731">name.obj</a>':{ first:'John', last:'Doe' } }, 'with allowDots true and decodeDotInKeys true');st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj%252Esubobject.first%252Egodly%252Ename=John &amp;<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj%252Esubobject.last=Doe', { allowDots:false, decodeDotInKeys:false }), { '<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%2Eobj%2Esubobject.first%2Egodly%2Ename':'John', '<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%2Eobj%2Esubobject.last':'Doe' }, 'with allowDots false and decodeDotInKeys false');st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name.obj.subobject.first.godly.name</a>=John &amp;name.obj.subobject.last=Doe', { allowDots:true, decodeDotInKeys:false }), { name:{ obj:{ subobject:{ first:{ godly:{ name:'John' } }, last:'Doe' } } } }, 'with allowDots true and decodeDotInKeys false');st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj%252Esubobject.first%252Egodly%252Ename=John &amp;<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj%252Esubobject.last=Doe', { allowDots:true, decodeDotInKeys:true }), { 'name.obj.subobject':{ '<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">first.godly.name</a>':'John', last:'Doe' } }, 'with allowDots true and decodeDotInKeys true');st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj.first=John &amp;<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj.last=Doe'), { '<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%2Eobj.first':'John', '<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%2Eobj.last':'Doe' }, 'with allowDots and decodeDotInKeys <a class="el" href="get-intrinsic_2index_8js.html#ae6aa4817f0f49345b718ea6b4abae197">undefined</a>');st.end();});t.test('should <a class="el" href="qs_2lib_2utils_8js.html#ac721e66172d6d912c266675c12bcc0d5">decode</a> dot in key of object, and allow enabling dot notation when decodeDotInKeys <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> <a class="el" href="application_8js.html#aea3662ebceec6f02ef3aec57683086a6">set</a> to true and allowDots <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> <a class="el" href="get-intrinsic_2index_8js.html#ae6aa4817f0f49345b718ea6b4abae197">undefined</a>', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj%252Esubobject.first%252Egodly%252Ename=John &amp;<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">name</a>%252Eobj%252Esubobject.last=Doe', { decodeDotInKeys:true }), { 'name.obj.subobject':{ '<a class="el" href="inbound-parser_8test_8js.html#a82922bbd162af030b5deaeafbf18ef0e">first.godly.name</a>':'John', last:'Doe' } }, 'with allowDots <a class="el" href="get-intrinsic_2index_8js.html#ae6aa4817f0f49345b718ea6b4abae197">undefined</a> and decodeDotInKeys true');st.end();});t.test('should throw when decodeDotInKeys <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> not of <a class="el" href="cli_8js.html#affea7e61106a6a9da029c8af702aaf20">type</a> boolean', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]&amp;bar=baz', { decodeDotInKeys:'foobar' });}, TypeError);st['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]&amp;bar=baz', { decodeDotInKeys:0 });}, TypeError);st['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]&amp;bar=baz', { decodeDotInKeys:NaN });}, TypeError);st['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]&amp;bar=baz', { decodeDotInKeys:null });}, TypeError);st.end();});t.test('allows empty arrays in <a class="el" href="all_8js.html#ab15a7ef94ea648e0a722a49372614731">obj</a> values', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]&amp;bar=baz', { allowEmptyArrays:true }), { foo:[], bar:'baz' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]&amp;bar=baz', { allowEmptyArrays:false }), { foo:[''], bar:'baz' });st.end();});t.test('should throw when allowEmptyArrays <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> not of <a class="el" href="cli_8js.html#affea7e61106a6a9da029c8af702aaf20">type</a> boolean', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]&amp;bar=baz', { allowEmptyArrays:'foobar' });}, TypeError);st['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]&amp;bar=baz', { allowEmptyArrays:0 });}, TypeError);st['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]&amp;bar=baz', { allowEmptyArrays:NaN });}, TypeError);st['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]&amp;bar=baz', { allowEmptyArrays:null });}, TypeError);st.end();});t.test('allowEmptyArrays+strictNullHandling', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('testEmptyArray[]', { strictNullHandling:true, allowEmptyArrays:true }), { testEmptyArray:[] });st.end();});t.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:{ b:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' } }, 'parses a single nested string');t.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>]=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>'), { a:{ b:{ c:'<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>' } } }, 'parses a double nested string');t.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>][<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>][e][f][g][<a class="el" href="ms_2index_8js.html#a79fe0eb780a2a4b5543b4dddf8b6188a">h</a>]=i'), { a:{ b:{ c:{ d:{ e:{ f:{ '[g][<a class="el" href="ms_2index_8js.html#a79fe0eb780a2a4b5543b4dddf8b6188a">h</a>]':'i' } } } } } } }, '<a class="el" href="lib_2parse_8js.html#a25652520ac081f98103987b0e68544cf">defaults</a> to a depth of 5');t.test('only parses one level when depth=1', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>]=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>', { depth:1 }), { a:{ b:{ '[<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>]':'<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>' } } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>][<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>]=e', { depth:1 }), { a:{ b:{ '[<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>][<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>]':'e' } } });st.end();});t.test('uses original key when depth=0', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[0]=b &amp;a[1]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { depth:0 }), { 'a[0]':'b', 'a[1]':'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[0][0]=b &amp;a[0][1]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> &amp;a[1]=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a> &amp;e=2', { depth:0 }), { 'a[0][0]':'b', 'a[0][1]':'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', 'a[1]':'<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>', e:'2' });st.end();});t.test('uses original key when depth=false', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[0]=b &amp;a[1]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { depth:false }), { 'a[0]':'b', 'a[1]':'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[0][0]=b &amp;a[0][1]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> &amp;a[1]=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a> &amp;e=2', { depth:false }), { 'a[0][0]':'b', 'a[0][1]':'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', 'a[1]':'<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>', e:'2' });st.end();});t.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b &amp;a=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] }, 'parses a simple <a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a>');t.test('parses an explicit <a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a>', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b'), { a:['b'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b &amp;a[]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b &amp;a[]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> &amp;a[]=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', '<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>'] });st.end();});t.test('parses a mix of simple and explicit arrays', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b &amp;a[]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b &amp;a=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[0]=b &amp;a=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b &amp;a[0]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[1]=b &amp;a=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { arrayLimit:20 }), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b &amp;a=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { arrayLimit:0 }), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b &amp;a=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b &amp;a[1]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { arrayLimit:20 }), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b &amp;a[]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { arrayLimit:0 }), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a=b &amp;a[]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.end();});t.test('parses a nested <a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a>', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b][]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> &amp;a[b][]=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>'), { a:{ b:['<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', '<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>'] } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[&gt;=]=25'), { a:{ '&gt;=':'25' } });st.end();});t.test('allows to specify <a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a> indices', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[1]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> &amp;a[0]=b &amp;a[2]=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', '<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[1]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> &amp;a[0]=b'), { a:['b', '<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[1]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { arrayLimit:20 }), { a:['<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[1]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { arrayLimit:0 }), { a:{ 1:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[1]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:['<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'] });st.end();});t.test('limits specific <a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a> indices to arrayLimit', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[20]=a', { arrayLimit:20 }), { a:['a'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[21]=a', { arrayLimit:20 }), { a:{ 21:'a' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[20]=a'), { a:['a'] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[21]=a'), { a:{ 21:'a' } });st.end();});t.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[12b]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:{ '12b':'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' } }, 'supports <a class="el" href="build_8js.html#a2d89a02a5a2340b3da7f2c23838fabf4">keys</a> that begin with a number');t.test('supports encoded=signs', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('he%3Dllo=th%3Dere'), { 'he=llo':'th=ere' });st.end();});t.test('<a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> ok with url encoded strings', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b%20c]=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>'), { a:{ 'b <a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>':'<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>%20d'), { a:{ b:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> <a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>' } });st.end();});t.test('allows brackets in the <a class="el" href="get-intrinsic_2index_8js.html#aacce635d68067370c70caa2381ea1040">value</a>', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('pets=[&quot;tobi&quot;]'), { pets:'[&quot;tobi&quot;]' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('operators=[&quot;&gt;=&quot;, &quot;&lt;=&quot;]'), { operators:'[&quot;&gt;=&quot;, &quot;&lt;=&quot;]' });st.end();});t.test('allows empty values', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>(''), {});st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>(null), {});st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>(<a class="el" href="get-intrinsic_2index_8js.html#ae6aa4817f0f49345b718ea6b4abae197">undefined</a>), {});st.end();});t.test('transforms arrays to objects', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[0]=bar &amp;foo[bad]=baz'), { foo:{ 0:'bar', bad:'baz' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[bad]=baz &amp;foo[0]=bar'), { foo:{ bad:'baz', 0:'bar' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[bad]=baz &amp;foo[]=bar'), { foo:{ bad:'baz', 0:'bar' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]=bar &amp;foo[bad]=baz'), { foo:{ 0:'bar', bad:'baz' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[bad]=baz &amp;foo[]=bar &amp;foo[]=foo'), { foo:{ bad:'baz', 0:'bar', 1:'foo' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[0][a]=a &amp;foo[0][b]=b &amp;foo[1][a]=aa &amp;foo[1][b]=bb'), { foo:[{ a:'a', b:'b' }, { a:'aa', b:'bb' }] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b &amp;a[t]=u &amp;a[hasOwnProperty]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { allowPrototypes:false }), { a:{ 0:'b', t:'u' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b &amp;a[t]=u &amp;a[hasOwnProperty]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { allowPrototypes:true }), { a:{ 0:'b', t:'u', hasOwnProperty:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b &amp;a[hasOwnProperty]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> &amp;a[x]=<a class="el" href="ms_2index_8js.html#a0b31909b1cae9ed1db6ff042057fce60">y</a>', { allowPrototypes:false }), { a:{ 0:'b', x:'<a class="el" href="ms_2index_8js.html#a0b31909b1cae9ed1db6ff042057fce60">y</a>' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[]=b &amp;a[hasOwnProperty]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a> &amp;a[x]=<a class="el" href="ms_2index_8js.html#a0b31909b1cae9ed1db6ff042057fce60">y</a>', { allowPrototypes:true }), { a:{ 0:'b', hasOwnProperty:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', x:'<a class="el" href="ms_2index_8js.html#a0b31909b1cae9ed1db6ff042057fce60">y</a>' } });st.end();});t.test('transforms arrays to objects(dot notation)', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[0].baz=bar &amp;fool.bad=baz', { allowDots:true }), { foo:[{ baz:'bar' }], fool:{ bad:'baz' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[0].baz=bar &amp;fool.bad.boo=baz', { allowDots:true }), { foo:[{ baz:'bar' }], fool:{ bad:{ boo:'baz' } } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[0][0].baz=bar &amp;fool.bad=baz', { allowDots:true }), { foo:[[{ baz:'bar' }]], fool:{ bad:'baz' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[0].baz[0]=15 &amp;foo[0].bar=2', { allowDots:true }), { foo:[{ baz:['15'], bar:'2' }] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[0].baz[0]=15 &amp;foo[0].baz[1]=16 &amp;foo[0].bar=2', { allowDots:true }), { foo:[{ baz:['15', '16'], bar:'2' }] });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo.bad=baz &amp;foo[0]=bar', { allowDots:true }), { foo:{ bad:'baz', 0:'bar' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo.bad=baz &amp;foo[]=bar', { allowDots:true }), { foo:{ bad:'baz', 0:'bar' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[]=bar &amp;foo.bad=baz', { allowDots:true }), { foo:{ 0:'bar', bad:'baz' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo.bad=baz &amp;foo[]=bar &amp;foo[]=foo', { allowDots:true }), { foo:{ bad:'baz', 0:'bar', 1:'foo' } });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo[0].a=a &amp;foo[0].b=b &amp;foo[1].a=aa &amp;foo[1].b=bb', { allowDots:true }), { foo:[{ a:'a', b:'b' }, { a:'aa', b:'bb' }] });st.end();});t.test('correctly prunes <a class="el" href="get-intrinsic_2index_8js.html#ae6aa4817f0f49345b718ea6b4abae197">undefined</a> values when converting an <a class="el" href="array_parser_8js.html#aa26ea275a7c12c30df9334d66ece8a65">array</a> to an object', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[2]=b &amp;a[99999999]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>'), { a:{ 2:'b', 99999999:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' } });st.end();});t.test('supports malformed uri characters', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('{%:%}', { strictNullHandling:true }), { '{%:%}':null });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('{%:%}='), { '{%:%}':'' });st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('foo=%:%}'), { foo:'%:%}' }</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;) const &amp;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="add7a6cdecbc66b8f70f25c5936fec645" name="add7a6cdecbc66b8f70f25c5936fec645"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add7a6cdecbc66b8f70f25c5936fec645">&#9670;&#160;</a></span>test() <span class="overload">[3/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">test </td>
          <td>(</td>
          <td class="paramtype">'parses empty <a class="el" href="build_8js.html#a2d89a02a5a2340b3da7f2c23838fabf4">keys</a>'</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(t) { <a class="el" href="call-bind_2test_2index_8js.html#a56555593fcdace53c8cf68fb2b4a8892">emptyTestCases.forEach</a>(<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(testCase) { t.test('<a class="el" href="debug_8js.html#a8578c8199799bc9fda15156a1a91cc2f">skips</a> empty string key with '+testCase.input, <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.deepEqual(<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>(testCase.input), testCase.noEmptyKeys);st.end();});});}</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a16809456dc029784c0402a88a89fb9c2" name="a16809456dc029784c0402a88a89fb9c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16809456dc029784c0402a88a89fb9c2">&#9670;&#160;</a></span>test() <span class="overload">[4/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">test </td>
          <td>(</td>
          <td class="paramtype">'<a class="el" href="express_2lib_2middleware_2query_8js.html#ae113bda2a6abef22f6372c8fd21e22af">qs</a> strictDepth option - non-throw cases'</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(t) { t.test('when depth <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> 0 and strictDepth true, do not throw', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.doesNotThrow(<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>][<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>][e]=true &amp;a[b][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>][<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>][f]=42', { depth:0, strictDepth:true });}, RangeError, 'Should not throw RangeError');st.end();});t.test('parses successfully when depth <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> within the <a class="el" href="qs_2lib_2utils_8js.html#abcb5d8b4a4a1f3baf285ff81dae46fdf">limit</a> with strictDepth:true', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.doesNotThrow(<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { var result=<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { depth:1, strictDepth:true });st.deepEqual(result, { a:{ b:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' } }, 'Should <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">parse</a> correctly');});st.end();});t.test('does not throw an exception when depth exceeds the <a class="el" href="qs_2lib_2utils_8js.html#abcb5d8b4a4a1f3baf285ff81dae46fdf">limit</a> with strictDepth:false', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.doesNotThrow(<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { var result=<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>][<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>][e][f][g][<a class="el" href="ms_2index_8js.html#a79fe0eb780a2a4b5543b4dddf8b6188a">h</a>][i]=<a class="el" href="browser_8js.html#aeea493c7afe8b905d89d2ef3ac307efb">j</a>', { depth:1 });st.deepEqual(result, { a:{ b:{ '[<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>][<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>][e][f][g][<a class="el" href="ms_2index_8js.html#a79fe0eb780a2a4b5543b4dddf8b6188a">h</a>][i]':'<a class="el" href="browser_8js.html#aeea493c7afe8b905d89d2ef3ac307efb">j</a>' } } }, 'Should <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">parse</a> with depth <a class="el" href="qs_2lib_2utils_8js.html#abcb5d8b4a4a1f3baf285ff81dae46fdf">limit</a>');});st.end();});t.test('parses successfully when depth <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> within the <a class="el" href="qs_2lib_2utils_8js.html#abcb5d8b4a4a1f3baf285ff81dae46fdf">limit</a> with strictDepth:false', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.doesNotThrow(<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { var result=<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b]=<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>', { depth:1 });st.deepEqual(result, { a:{ b:'<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>' } }, 'Should <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">parse</a> correctly');});st.end();});t.test('does not throw when depth <a class="el" href="request_8js.html#a5e3afd97276cc403924d1a449a83ea84">is</a> exactly at the <a class="el" href="qs_2lib_2utils_8js.html#abcb5d8b4a4a1f3baf285ff81dae46fdf">limit</a> with strictDepth:true', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st.doesNotThrow(<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { var result=<a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>]=<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>', { depth:2, strictDepth:true });st.deepEqual(result, { a:{ b:{ c:'<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>' } } }, 'Should <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">parse</a> correctly');});st.end();});}</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a49f2ca65ed9f1e6a6549d20b7fcf1603" name="a49f2ca65ed9f1e6a6549d20b7fcf1603"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49f2ca65ed9f1e6a6549d20b7fcf1603">&#9670;&#160;</a></span>test() <span class="overload">[5/5]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">test </td>
          <td>(</td>
          <td class="paramtype">'<a class="el" href="express_2lib_2middleware_2query_8js.html#ae113bda2a6abef22f6372c8fd21e22af">qs</a> strictDepth option - throw cases'</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(t) { t.test('throws an exception when depth exceeds the <a class="el" href="qs_2lib_2utils_8js.html#abcb5d8b4a4a1f3baf285ff81dae46fdf">limit</a> with strictDepth:true', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>][<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>][e][f][g][<a class="el" href="ms_2index_8js.html#a79fe0eb780a2a4b5543b4dddf8b6188a">h</a>][i]=<a class="el" href="browser_8js.html#aeea493c7afe8b905d89d2ef3ac307efb">j</a>', { depth:1, strictDepth:true });}, RangeError, 'Should throw RangeError');st.end();});t.test('throws an exception <a class="el" href="dbcs-codec_8js.html#a3640a64c8d4fe02d6ade18fddf7457c4">for</a> multiple nested arrays with strictDepth:true', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[0][1][2][3][4]=b', { depth:3, strictDepth:true });}, RangeError, 'Should throw RangeError');st.end();});t.test('throws an exception <a class="el" href="dbcs-codec_8js.html#a3640a64c8d4fe02d6ade18fddf7457c4">for</a> nested objects and arrays with strictDepth:true', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>][0][<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>][e]=f', { depth:3, strictDepth:true });}, RangeError, 'Should throw RangeError');st.end();});t.test('throws an exception <a class="el" href="dbcs-codec_8js.html#a3640a64c8d4fe02d6ade18fddf7457c4">for</a> different <a class="el" href="build_8js.html#a5802f014ed8e96d3a513f114faa91d12">types</a> of values with strictDepth:true', <a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>(st) { st['throws'](<a class="el" href="cors_2lib_2index_8js.html#ac2ffb26d6f42d3bbcd7847b0873403f4">function</a>() { <a class="el" href="bytes_2index_8js.html#a28ecd76297a5d556aac05441b295f93c">qs.parse</a>('a[b][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>][<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>][e]=true &amp;a[b][<a class="el" href="example_2circular_8js.html#ac4b136ad7da3ddbc5ff64f2be6433bf2">c</a>][<a class="el" href="ms_2index_8js.html#aeb337d295abaddb5ec3cb34cc2e2bbc9">d</a>][f]=42', { depth:3, strictDepth:true });}, RangeError, 'Should throw RangeError');st.end();});}</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Documentación de variables</h2>
<a id="ae9891e020f47234a4102874e2f09f8cf" name="ae9891e020f47234a4102874e2f09f8cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9891e020f47234a4102874e2f09f8cf">&#9670;&#160;</a></span>emptyTestCases</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">var emptyTestCases = <a class="el" href="test-core-js_8js.html#a2fc998a372f1531668f7047d0878effe">require</a>('./empty-<a class="el" href="build_8js.html#a2d89a02a5a2340b3da7f2c23838fabf4">keys</a>-cases').emptyTestCases</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3ab4798bee35c356bc1c22c319aee19d" name="a3ab4798bee35c356bc1c22c319aee19d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ab4798bee35c356bc1c22c319aee19d">&#9670;&#160;</a></span>hasOverrideMistake</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">var hasOverrideMistake = <a class="el" href="test-core-js_8js.html#a2fc998a372f1531668f7047d0878effe">require</a>('<a class="el" href="lib_2parse_8js.html#a1fd59be22bbab6bc2baae116e333d914">has</a>-override-mistake')()</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8fc758637ef26252a15041e36da39e0a" name="a8fc758637ef26252a15041e36da39e0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fc758637ef26252a15041e36da39e0a">&#9670;&#160;</a></span>hasPropertyDescriptors</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">var hasPropertyDescriptors = <a class="el" href="test-core-js_8js.html#a2fc998a372f1531668f7047d0878effe">require</a>('<a class="el" href="lib_2parse_8js.html#a1fd59be22bbab6bc2baae116e333d914">has</a>-property-descriptors')()</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5c062989a80f49a2caf367fe212f6b52" name="a5c062989a80f49a2caf367fe212f6b52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c062989a80f49a2caf367fe212f6b52">&#9670;&#160;</a></span>iconv</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">var iconv = <a class="el" href="test-core-js_8js.html#a2fc998a372f1531668f7047d0878effe">require</a>('iconv-lite')</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ada233bc1a09b3d9309abcd7d4a0baebe" name="ada233bc1a09b3d9309abcd7d4a0baebe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada233bc1a09b3d9309abcd7d4a0baebe">&#9670;&#160;</a></span>inspect</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">var inspect = <a class="el" href="test-core-js_8js.html#a2fc998a372f1531668f7047d0878effe">require</a>('object-inspect')</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a664e99f1d4de30c703cc1829247ba3c4" name="a664e99f1d4de30c703cc1829247ba3c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a664e99f1d4de30c703cc1829247ba3c4">&#9670;&#160;</a></span>mockProperty</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">var mockProperty = <a class="el" href="test-core-js_8js.html#a2fc998a372f1531668f7047d0878effe">require</a>('mock-property')</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae113bda2a6abef22f6372c8fd21e22af" name="ae113bda2a6abef22f6372c8fd21e22af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae113bda2a6abef22f6372c8fd21e22af">&#9670;&#160;</a></span>qs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">var qs = <a class="el" href="test-core-js_8js.html#a2fc998a372f1531668f7047d0878effe">require</a>('../')</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a247329390242dfbe6616ca6e51020739" name="a247329390242dfbe6616ca6e51020739"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a247329390242dfbe6616ca6e51020739">&#9670;&#160;</a></span>SaferBuffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">var SaferBuffer = <a class="el" href="test-core-js_8js.html#a2fc998a372f1531668f7047d0878effe">require</a>('safer-<a class="el" href="b_8js.html#aad851473247e961d3bd53eea92dabe1d">buffer</a>').Buffer</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae2475e10618961c050dcba04e8c42331" name="ae2475e10618961c050dcba04e8c42331"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2475e10618961c050dcba04e8c42331">&#9670;&#160;</a></span>strict</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="application_8js.html#a8192500ed5d08ae60d3778b54729bd51">use</a> strict</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3a897d91c374db023efd4ed28e633ade" name="a3a897d91c374db023efd4ed28e633ade"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a897d91c374db023efd4ed28e633ade">&#9670;&#160;</a></span>test</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">var test = <a class="el" href="test-core-js_8js.html#a2fc998a372f1531668f7047d0878effe">require</a>('tape')</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7b58b8887c6d26e09f79fbacfbda7f53" name="a7b58b8887c6d26e09f79fbacfbda7f53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b58b8887c6d26e09f79fbacfbda7f53">&#9670;&#160;</a></span>utils</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">var utils = <a class="el" href="test-core-js_8js.html#a2fc998a372f1531668f7047d0878effe">require</a>('../lib/utils')</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afc3dd12de12777f6e20b4c93b7e7cb96" name="afc3dd12de12777f6e20b4c93b7e7cb96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc3dd12de12777f6e20b4c93b7e7cb96">&#9670;&#160;</a></span>v</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">var v = <a class="el" href="test-core-js_8js.html#a2fc998a372f1531668f7047d0878effe">require</a>('es-<a class="el" href="get-intrinsic_2index_8js.html#aacce635d68067370c70caa2381ea1040">value</a>-fixtures')</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generado por&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
